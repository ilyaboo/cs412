{% extends 'mini_fb/base.html' %}

{% load static %}

{% block content %}

<head>
    <title>{{ profile.first_name }} {{ profile.last_name }}'s Friends Suggestions</title>
</head>

<body>
    <div style="width: 80%; margin: 0 auto;">
        <h2>{{ user.first_name }} {{ user.last_name }}'s Friends Suggestions</h2>

        <div style="display: flex; align-items: center; margin-bottom: 20px;">

            <div style="margin-right: 20px;">
                <img src="{{ user.profile_img_url }}" alt="Profile Image" style="width:300px; height:auto; border-radius: 10px;">
            </div>

            <div>
                <p><strong>First Name:</strong> {{ user.first_name }}</p>
                <p><strong>Last Name:</strong> {{ user.last_name }}</p>
                <p><strong>City:</strong> {{ user.city }}</p>
                <p><strong>Email:</strong> {{ user.email_address }}</p>
            </div>

        </div>


        <h3> Friends Suggestions </h3>
        <table border="1" cellpadding="10" cellspacing="0" 
            style="width: 100%; border-collapse: collapse; table-layout: fixed;">
            <thead>
                <tr>
                    <th colspan="5" style="text-align: center; color: white; padding: 0px;"> 
                    </th>
                </tr>
            </thead>
            <tbody>
                {% for row in friends_in_rows %}
                    <tr>
                        {% for friend in row %}
                            <td style="text-align: center; padding: 15px; ">
                                <a href="{% url 'show_profile' friend.pk %}">
                                <div style="width: 100px; height: 100px; border-radius: 50%; margin: 0 auto; 
                                display: flex; align-items: center; justify-content: center; overflow: hidden; background-color: #f0f0f0;">
                                    <img src="{{ friend.profile_img_url }}" 
                                        alt="{{ friend.first_name }}'s Profile Image" 
                                        style="width: 100%; height: auto; min-height: 100%; object-fit: cover;">
                                </div>
                                    <br>
                                    {{ friend.first_name }}
                                    <br>
                                    {{ friend.last_name }}
                                </a>
                                <br>
                                <br>
                                <div style="margin-bottom: 20px;">
                                    <a href="{% url 'add_friend' user.pk friend.pk%}" style="display: block; background-color: #008f68; color: white; text-decoration: none; border-radius: 5px; text-align: center;">Add Friend</a>
                                </div>
                            </td>
                        {% empty %}
                            <td colspan="5" style="text-align: center; padding: 20px;">
                                No friends yet.
                            </td>
                        {% endfor %}
                    </tr>
                {% endfor %}
            </tbody>
        </table>


    </div>
</body>

{% endblock %}
